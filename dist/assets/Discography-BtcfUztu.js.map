{"version":3,"file":"Discography-BtcfUztu.js","sources":["../../src/components/AlbumModal.jsx","../../src/components/Discography.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport gsap from 'gsap'\r\n\r\nexport default function AlbumModal({ album, onClose }){\r\n  const modalRef = useRef(null)\r\n  const contentRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if(!album) return\r\n\r\n    // Animação de entrada\r\n    if(contentRef.current) {\r\n      gsap.fromTo(contentRef.current,\r\n        { opacity: 0, scale: 0.8, filter: 'blur(20px)' },\r\n        { opacity: 1, scale: 1, filter: 'blur(0px)', duration: 0.6, ease: 'power3.out' }\r\n      )\r\n    }\r\n\r\n    function onKey(e){ \r\n      if(e.key === 'Escape') onClose() \r\n    }\r\n    window.addEventListener('keydown', onKey)\r\n\r\n    // Focus trap\r\n    const prev = document.activeElement\r\n    const node = modalRef.current\r\n    if(node){\r\n      const focusable = node.querySelectorAll('a,button,input,textarea,select,[tabindex]:not([tabindex=\"-1\"])')\r\n      const first = focusable[0]\r\n      first?.focus()\r\n\r\n      function onTab(e){\r\n        if(e.key !== 'Tab') return\r\n        const focusableArr = Array.from(focusable)\r\n        if(focusableArr.length === 0) return\r\n        const idx = focusableArr.indexOf(document.activeElement)\r\n        if(e.shiftKey && idx === 0){\r\n          e.preventDefault(); focusableArr[focusableArr.length-1].focus()\r\n        } else if(!e.shiftKey && idx === focusableArr.length -1){\r\n          e.preventDefault(); focusableArr[0].focus()\r\n        }\r\n      }\r\n      node.addEventListener('keydown', onTab)\r\n\r\n      return () => {\r\n        node.removeEventListener('keydown', onTab)\r\n        prev?.focus()\r\n      }\r\n    }\r\n\r\n    return () => window.removeEventListener('keydown', onKey)\r\n  }, [onClose, album])\r\n\r\n  if(!album) return null\r\n  \r\n  return (\r\n    <div \r\n      role=\"dialog\" \r\n      aria-modal=\"true\" \r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n      onClick={(e) => {\r\n        if(e.target === e.currentTarget) onClose()\r\n      }}\r\n    >\r\n      <div className=\"absolute inset-0 modal-backdrop\" onClick={onClose}></div>\r\n      \r\n      <div \r\n        ref={modalRef}\r\n        className=\"relative glass-strong p-8 rounded-xl max-w-4xl w-full z-10 border border-gold/20 shadow-2xl\"\r\n      >\r\n        <button \r\n          onClick={onClose} \r\n          aria-label=\"Fechar\" \r\n          className=\"absolute top-4 right-4 w-10 h-10 rounded-full glass-strong border border-gold/30 text-gold hover:bg-red/20 hover:border-red transition-all flex items-center justify-center\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          </svg>\r\n        </button>\r\n        \r\n        <div ref={contentRef} className=\"grid md:grid-cols-2 gap-8\">\r\n          <div className=\"relative overflow-hidden rounded-lg\">\r\n            <img \r\n              src={album.src} \r\n              alt={album.title} \r\n              className=\"w-full h-full min-h-[300px] object-cover rounded-lg\"\r\n            />\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\"></div>\r\n          </div>\r\n          \r\n          <div className=\"flex flex-col justify-between\">\r\n            <div>\r\n              <h3 className=\"font-heading text-3xl md:text-4xl text-gold mb-2\">\r\n                {album.title}\r\n              </h3>\r\n              <p className=\"text-gold-light text-lg mb-4\">{album.year}</p>\r\n              <p className=\"text-white/80 mb-6 leading-relaxed\">{album.description}</p>\r\n              \r\n              <div className=\"mb-6\">\r\n                <h4 className=\"text-gold font-heading text-xl mb-3\">Faixas</h4>\r\n                <ol className=\"space-y-2\">\r\n                  {album.tracks.map((t, i) => (\r\n                    <li key={i} className=\"text-white/70 flex items-center gap-3\">\r\n                      <span className=\"text-gold/50 text-sm\">{String(i + 1).padStart(2, '0')}</span>\r\n                      <span>{t}</span>\r\n                    </li>\r\n                  ))}\r\n                </ol>\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <a \r\n                href={album.link} \r\n                target=\"_blank\" \r\n                rel=\"noreferrer\" \r\n                className=\"btn-primary w-full text-center block\"\r\n              >\r\n                Ouvir no Spotify\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport gsap from 'gsap'\r\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\r\nimport AlbumModal from './AlbumModal'\r\nimport assets from '../utils/assets'\r\n\r\ngsap.registerPlugin(ScrollTrigger)\r\n\r\nexport default function Discography(){\r\n  const [open, setOpen] = useState(null)\r\n  const sectionRef = useRef(null)\r\n  const titleRef = useRef(null)\r\n  const cardsRef = useRef([])\r\n\r\n  useEffect(() => {\r\n    const ctx = gsap.context(() => {\r\n      // Animação do título\r\n      if(titleRef.current) {\r\n        gsap.fromTo(titleRef.current,\r\n          { opacity: 0, y: 50, filter: 'blur(10px)' },\r\n          {\r\n            opacity: 1,\r\n            y: 0,\r\n            filter: 'blur(0px)',\r\n            duration: 1,\r\n            ease: 'power3.out',\r\n            scrollTrigger: {\r\n              trigger: titleRef.current,\r\n              start: 'top 85%',\r\n              toggleActions: 'play none none reverse'\r\n            }\r\n          }\r\n        )\r\n      }\r\n\r\n      // Animação stagger dos cards\r\n      cardsRef.current.forEach((card, idx) => {\r\n        if(card) {\r\n          gsap.fromTo(card,\r\n            { opacity: 0, y: 60, scale: 0.9, rotationY: -15 },\r\n            {\r\n              opacity: 1,\r\n              y: 0,\r\n              scale: 1,\r\n              rotationY: 0,\r\n              duration: 0.8,\r\n              ease: 'power3.out',\r\n              delay: idx * 0.15,\r\n              scrollTrigger: {\r\n                trigger: card,\r\n                start: 'top 85%',\r\n                toggleActions: 'play none none reverse'\r\n              }\r\n            }\r\n          )\r\n        }\r\n      })\r\n    }, sectionRef)\r\n\r\n    return () => ctx.revert()\r\n  }, [])\r\n\r\n  return (\r\n    <section \r\n      id=\"discography\" \r\n      ref={sectionRef}\r\n      className=\"py-24 md:py-32 bg-gradient-to-b from-black via-bg-dark to-black grain-bg relative overflow-hidden\"\r\n    >\r\n      {/* Background decorativo */}\r\n      <div className=\"absolute inset-0 opacity-10\">\r\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-red rounded-full blur-3xl\"></div>\r\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-gold rounded-full blur-3xl\"></div>\r\n      </div>\r\n\r\n      <div className=\"container relative z-10\">\r\n        <h2 \r\n          ref={titleRef}\r\n          className=\"text-4xl md:text-6xl lg:text-7xl font-heading text-gold mb-4 reveal\"\r\n        >\r\n          Discografia\r\n        </h2>\r\n        <p className=\"text-white/60 text-lg mb-12 max-w-2xl\">\r\n          Álbuns que marcaram gerações e definiram o rap brasileiro.\r\n        </p>\r\n\r\n        <div className=\"mt-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n          {assets.albums.map((a, idx) => (\r\n            <motion.div \r\n              key={a.src}\r\n              ref={el => cardsRef.current[idx] = el}\r\n              className=\"tilt-card group reveal\"\r\n              whileHover={{ y: -8 }}\r\n              transition={{ duration: 0.3 }}\r\n              onMouseMove={(e)=>{\r\n                const el = e.currentTarget.querySelector('.tilt-card-inner')\r\n                const rect = e.currentTarget.getBoundingClientRect()\r\n                const x = (e.clientX - rect.left) / rect.width - 0.5\r\n                const y = (e.clientY - rect.top) / rect.height - 0.5\r\n                const rx = (-y) * 8\r\n                const ry = (x) * 10\r\n                if(el) {\r\n                  el.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) scale(1.03)`\r\n                }\r\n              }}\r\n              onMouseLeave={(e)=>{\r\n                const el = e.currentTarget.querySelector('.tilt-card-inner')\r\n                if(el) el.style.transform = ''\r\n              }}\r\n            >\r\n              <div className=\"tilt-card-inner glass-strong rounded-xl overflow-hidden h-full flex flex-col shadow-2xl border border-gold/10 hover:border-gold/30 transition-all duration-300\">\r\n                <div className=\"relative overflow-hidden\">\r\n                  <img \r\n                    src={a.src} \r\n                    alt={a.title} \r\n                    loading=\"lazy\" \r\n                    className=\"w-full h-64 md:h-72 object-cover transition-transform duration-500 group-hover:scale-110\" \r\n                  />\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n                </div>\r\n                \r\n                <div className=\"p-6 flex-1 flex flex-col justify-between\">\r\n                  <div>\r\n                    <h3 className=\"font-heading text-2xl text-gold mb-2\">{a.title}</h3>\r\n                    <p className=\"text-gold-light text-sm mb-4\">{a.year}</p>\r\n                    <p className=\"text-white/70 text-sm line-clamp-2\">{a.description}</p>\r\n                  </div>\r\n                  \r\n                  <button \r\n                    onClick={() => setOpen(idx)} \r\n                    className=\"btn-primary mt-6 w-full magnetic-btn\"\r\n                    data-magnetic\r\n                  >\r\n                    Ver Detalhes\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      \r\n      {open !== null && (\r\n        <AlbumModal \r\n          album={assets.albums[open]} \r\n          onClose={() => setOpen(null)} \r\n        />\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n"],"names":["AlbumModal","album","onClose","modalRef","useRef","contentRef","useEffect","gsap","onKey","e","prev","node","onTab","focusableArr","focusable","idx","first","jsxs","jsx","t","i","ScrollTrigger","Discography","open","setOpen","useState","sectionRef","titleRef","cardsRef","ctx","card","a","motion","el","rect","rx","ry","assets"],"mappings":"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"}