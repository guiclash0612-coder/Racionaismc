import{r as n,j as e,m as d}from"./index-ycQllyVQ.js";import{a as l}from"./assets-DH9pWGVa.js";function v(){const[i,s]=n.useState(null),h=n.useRef(null),c=n.useRef([]);return n.useEffect(()=>{const r=new IntersectionObserver(t=>{t.forEach((o,a)=>{o.isIntersecting&&setTimeout(()=>{o.target.classList.add("gallery-item-visible")},a*50)})},{threshold:.1});return c.current.forEach(t=>{t&&r.observe(t)}),()=>{c.current.forEach(t=>{t&&r.unobserve(t)})}},[]),n.useEffect(()=>{function r(t){i!==null&&(t.key==="Escape"&&s(null),t.key==="ArrowRight"&&s(o=>o===null?0:Math.min(l.photos.length-1,o+1)),t.key==="ArrowLeft"&&s(o=>o===null?0:Math.max(0,o-1)))}return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[i]),n.useEffect(()=>{const r=()=>{c.current.forEach((t,o)=>{if(!t)return;const a=t.getBoundingClientRect();if(a.top<window.innerHeight&&a.bottom>0){const x=(window.innerHeight-a.top)/(window.innerHeight+a.height)*20-10;t.style.transform=`translateY(${x}px) rotate(${(o%3-1)*.5}deg)`}})};return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)},[]),e.jsxs("section",{id:"gallery",ref:h,className:"py-20 md:py-32 bg-black relative overflow-x-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-[0.03]",children:[e.jsx("div",{className:"absolute top-1/4 left-0 w-96 h-96 bg-red rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-0 w-96 h-96 bg-red rounded-full blur-3xl"})]}),e.jsxs("div",{className:"container relative z-10",children:[e.jsx("h2",{className:"text-5xl md:text-7xl lg:text-8xl font-heading text-red mb-6 tracking-tight fade-in",children:"Galeria"}),e.jsx("p",{className:"text-white-cream/60 text-lg md:text-xl mb-12 max-w-2xl fade-in",children:"Momentos que marcaram a trajetória do grupo."}),e.jsx("div",{className:"gallery-masonry",children:l.photos.map((r,t)=>e.jsx(d.div,{ref:o=>c.current[t]=o,className:"gallery-item group cursor-pointer",onClick:()=>s(t),initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:t*.05},whileHover:{scale:1.05,zIndex:10},children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl gallery-item-inner",children:[e.jsx("img",{src:r,alt:`Foto ${t+1}`,className:"gallery-image",loading:"lazy",decoding:"async"}),e.jsxs("div",{className:"gallery-overlay",children:[e.jsx("div",{className:"gallery-icon",children:e.jsx("svg",{className:"w-8 h-8 text-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),e.jsx("div",{className:"absolute inset-0 border-2 border-red/0 group-hover:border-red/40 transition-all duration-400 rounded-xl"})]}),e.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-red/60 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-400 shadow-lg shadow-red/50"})]})},t))})]}),i!==null&&e.jsx(d.div,{className:"lightbox-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:r=>{r.target.classList.contains("lightbox-backdrop")&&s(null)},children:e.jsxs(d.div,{className:"lightbox-content",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:[e.jsx("img",{src:l.photos[i],alt:`Foto ${i+1}`,className:"lightbox-image"}),l.photos.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{"aria-label":"Anterior",className:"lightbox-nav lightbox-nav-prev",onClick:()=>s(r=>Math.max(0,r-1)),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{"aria-label":"Próxima",className:"lightbox-nav lightbox-nav-next",onClick:()=>s(r=>Math.min(l.photos.length-1,r+1)),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("button",{"aria-label":"Fechar",className:"lightbox-close",onClick:()=>s(null),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"lightbox-counter",children:[i+1," / ",l.photos.length]})]})})]})}export{v as default};
//# sourceMappingURL=Gallery-BFkq6MZu.js.map
